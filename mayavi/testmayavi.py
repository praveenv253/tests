#!/usr/bin/env python3

from __future__ import print_function, division

import numpy as np
from mayavi import mlab

def get_points():
    griddata = """0.00000 -0.26066  0.96543
    -0.08931 -0.39512  0.91428
     0.08931 -0.39512  0.91428
    -0.17371 -0.51503  0.83939
     0.00000 -0.52537  0.85088
     0.17371 -0.51503  0.83939
    -0.25340 -0.62097  0.74174
    -0.08578 -0.64343  0.76068
     0.08578 -0.64343  0.76068
     0.25340 -0.62097  0.74174
    -0.32817 -0.71235  0.62037
    -0.16409 -0.74390  0.64784
     0.00000 -0.75412  0.65674
     0.16409 -0.74390  0.64784
     0.32817 -0.71235  0.62037
    -0.37552 -0.78839  0.48726
    -0.22531 -0.82878  0.51221
    -0.07510 -0.84825  0.52425
     0.47416 -0.65263  0.59097
     0.41373 -0.56945  0.71032
     0.34570 -0.47581  0.80876
    -0.09864 -0.13577  0.98582
    -0.18841 -0.25933  0.94723
    -0.27059 -0.37244  0.88773
     0.24790 -0.08055  0.96543
     0.34819 -0.20704  0.91428
     0.40338 -0.03716  0.91428
     0.43614 -0.32436  0.83939
     0.49965 -0.16235  0.85088
     0.54350  0.00605  0.83939
     0.51227 -0.43289  0.74174
     0.58543 -0.28041  0.76068
     0.63845 -0.11725  0.76068
     0.66888  0.04910  0.74174
     0.57608 -0.53224  0.62037
     0.65678 -0.38593  0.64784
     0.71721 -0.23303  0.65674
     0.75819 -0.07382  0.64784
     0.77890  0.09198  0.62037
     0.63376 -0.60077  0.48726
     0.71859 -0.47039  0.51221
     0.78352 -0.33355  0.52425
     0.76721  0.24928  0.59097
     0.66943  0.21751  0.71032
     0.55935  0.18174  0.80876
     0.09864 -0.13577  0.98582
     0.18841 -0.25933  0.94723
     0.27059 -0.37244  0.88773
     0.15321  0.21088  0.96543
     0.30450  0.26717  0.91428
     0.16000  0.37216  0.91428
     0.44326  0.31456  0.83939
     0.30880  0.42503  0.85088
     0.16219  0.51877  0.83939
     0.57000  0.35343  0.74174
     0.44760  0.47013  0.76068
     0.30880  0.57097  0.76068
     0.16000  0.65132  0.74174
     0.68421  0.38341  0.62037
     0.57000  0.50538  0.64784
     0.44326  0.61009  0.65674
     0.30450  0.69827  0.64784
     0.15321  0.76920  0.62037
     0.76721  0.41710  0.48726
     0.66943  0.53806  0.51221
     0.55935  0.64210  0.52425
     0.00000  0.80669  0.59097
     0.00000  0.70388  0.71032
     0.00000  0.58813  0.80876
     0.15960  0.05186  0.98582
     0.30486  0.09906  0.94723
     0.43783  0.14226  0.88773
    -0.15321  0.21088  0.96543
    -0.16000  0.37216  0.91428
    -0.30450  0.26717  0.91428
    -0.16219  0.51877  0.83939
    -0.30880  0.42503  0.85088
    -0.44326  0.31456  0.83939
    -0.16000  0.65132  0.74174
    -0.30880  0.57097  0.76068
    -0.44760  0.47013  0.76068
    -0.57000  0.35343  0.74174
    -0.15321  0.76920  0.62037
    -0.30450  0.69827  0.64784
    -0.44326  0.61009  0.65674
    -0.57000  0.50538  0.64784
    -0.68421  0.38341  0.62037
    -0.15960  0.85855  0.48726
    -0.30486  0.80293  0.51221
    -0.43783  0.73039  0.52425
    -0.76721  0.24928  0.59097
    -0.66943  0.21751  0.71032
    -0.55935  0.18174  0.80876
    -0.00000  0.16782  0.98582
    -0.00000  0.32055  0.94723
    -0.00000  0.46036  0.88773
    -0.24790 -0.08055  0.96543
    -0.40338 -0.03716  0.91428
    -0.34819 -0.20704  0.91428
    -0.54350  0.00605  0.83939
    -0.49965 -0.16235  0.85088
    -0.43614 -0.32436  0.83939
    -0.66888  0.04910  0.74174
    -0.63845 -0.11725  0.76068
    -0.58543 -0.28041  0.76068
    -0.51228 -0.43289  0.74174
    -0.77890  0.09198  0.62037
    -0.75819 -0.07382  0.64784
    -0.71721 -0.23303  0.65674
    -0.65678 -0.38593  0.64784
    -0.57608 -0.53224  0.62037
    -0.86585  0.11352  0.48726
    -0.85784 -0.04182  0.51221
    -0.82994 -0.19069  0.52425
    -0.47416 -0.65263  0.59097
    -0.41373 -0.56945  0.71032
    -0.34570 -0.47581  0.80876
    -0.15960  0.05186  0.98582
    -0.30486  0.09905  0.94723
    -0.43783  0.14226  0.88773
     0.32817 -0.87345  0.35971
     0.16409 -0.91212  0.37564
     0.25340 -0.94114  0.22370
     0.00000 -0.92466  0.38080
     0.08578 -0.96813  0.23532
     0.17371 -0.98110  0.08527
    -0.16409 -0.91212  0.37564
    -0.08578 -0.96813  0.23532
     0.00000 -0.99600  0.08938
     0.08931 -0.99446 -0.05547
    -0.32817 -0.87345  0.35971
    -0.25340 -0.94114  0.22370
    -0.17371 -0.98110  0.08527
    -0.08931 -0.99446 -0.05547
     0.00000 -0.98008 -0.19861
    -0.47416 -0.82045  0.31944
    -0.41373 -0.89000  0.19166
    -0.34570 -0.93617  0.06389
     0.09864 -0.94246 -0.31944
     0.18841 -0.96321 -0.19166
     0.27059 -0.96057 -0.06389
     0.37552 -0.78839  0.48725
     0.22531 -0.82878  0.51221
     0.07510 -0.84825  0.52425
     0.93211  0.04220  0.35971
     0.91819 -0.12581  0.37564
     0.97338 -0.04983  0.22370
     0.87940 -0.28573  0.38080
     0.94725 -0.21759  0.23532
     0.98676 -0.13797  0.08527
     0.81678 -0.43792  0.37564
     0.89424 -0.38075  0.23532
     0.94725 -0.30778  0.08938
     0.97338 -0.22237 -0.05547
     0.72929 -0.58202  0.35971
     0.81678 -0.53182  0.22370
     0.87940 -0.46838  0.08527
     0.91819 -0.39224 -0.05547
     0.93211 -0.30286 -0.19861
     0.63377 -0.70449  0.31944
     0.71859 -0.66850  0.19166
     0.78352 -0.61807  0.06389
     0.92681 -0.19742 -0.31944
     0.97429 -0.11845 -0.19166
     0.99718 -0.03949 -0.06389
     0.86585  0.11352  0.48725
     0.85784 -0.04182  0.51221
     0.82994 -0.19069  0.52425
     0.24790  0.89953  0.35971
     0.40338  0.83437  0.37564
     0.34819  0.91034  0.22370
     0.54350  0.74806  0.38080
     0.49965  0.83365  0.23532
     0.43614  0.89583  0.08527
     0.66888  0.64148  0.37564
     0.63845  0.73281  0.23532
     0.58543  0.80578  0.08938
     0.51228  0.85703 -0.05547
     0.77890  0.51374  0.35971
     0.75819  0.61246  0.22370
     0.71721  0.69162  0.08527
     0.65678  0.75204 -0.05547
     0.57608  0.79290 -0.19861
     0.86585  0.38505  0.31944
     0.85784  0.47684  0.19166
     0.82994  0.55418  0.06389
     0.47416  0.82044 -0.31944
     0.41373  0.89000 -0.19166
     0.34570  0.93617 -0.06389
     0.15960  0.85855  0.48725
     0.30486  0.80293  0.51221
     0.43783  0.73039  0.52425
    -0.77890  0.51374  0.35971
    -0.66888  0.64148  0.37564
    -0.75819  0.61246  0.22370
    -0.54350  0.74806  0.38080
    -0.63845  0.73281  0.23532
    -0.71721  0.69162  0.08527
    -0.40338  0.83437  0.37564
    -0.49965  0.83365  0.23532
    -0.58543  0.80578  0.08938
    -0.65678  0.75204 -0.05547
    -0.24790  0.89953  0.35971
    -0.34819  0.91034  0.22370
    -0.43614  0.89583  0.08527
    -0.51228  0.85703 -0.05547
    -0.57608  0.79290 -0.19861
    -0.09864  0.94246  0.31944
    -0.18842  0.96321  0.19166
    -0.27059  0.96057  0.06389
    -0.63377  0.70449 -0.31944
    -0.71859  0.66850 -0.19166
    -0.78352  0.61807 -0.06389
    -0.76721  0.41710  0.48725
    -0.66943  0.53806  0.51221
    -0.55935  0.64210  0.52425
    -0.72929 -0.58202  0.35971
    -0.81678 -0.43792  0.37564
    -0.81678 -0.53182  0.22370
    -0.87940 -0.28574  0.38080
    -0.89424 -0.38075  0.23532
    -0.87940 -0.46838  0.08527
    -0.91819 -0.12581  0.37564
    -0.94725 -0.21759  0.23532
    -0.94725 -0.30778  0.08938
    -0.91819 -0.39224 -0.05547
    -0.93211  0.04220  0.35971
    -0.97338 -0.04983  0.22370
    -0.98676 -0.13797  0.08527
    -0.97338 -0.22237 -0.05547
    -0.93211 -0.30286 -0.19861
    -0.92681  0.19742  0.31944
    -0.97429  0.11845  0.19166
    -0.99718  0.03948  0.06389
    -0.86585 -0.38505 -0.31944
    -0.85784 -0.47684 -0.19166
    -0.82994 -0.55418 -0.06389
    -0.63377 -0.60077  0.48725
    -0.71859 -0.47039  0.51221
    -0.78352 -0.33355  0.52425
     0.57608 -0.79290  0.19861
     0.51228 -0.85703  0.05547
     0.65678 -0.75204  0.05547
     0.43614 -0.89583 -0.08527
     0.58543 -0.80578 -0.08938
     0.71721 -0.69162 -0.08527
     0.34819 -0.91034 -0.22370
     0.49965 -0.83365 -0.23531
     0.63845 -0.73281 -0.23531
     0.75819 -0.61246 -0.22370
     0.24790 -0.89953 -0.35971
     0.40338 -0.83437 -0.37564
     0.54350 -0.74806 -0.38080
     0.66888 -0.64148 -0.37564
     0.77890 -0.51374 -0.35971
     0.15960 -0.85855 -0.48725
     0.30486 -0.80293 -0.51221
     0.43783 -0.73039 -0.52425
     0.86585 -0.38505 -0.31944
     0.85784 -0.47684 -0.19166
     0.82994 -0.55418 -0.06389
     0.47416 -0.82044  0.31944
     0.41373 -0.89000  0.19166
     0.34570 -0.93617  0.06389
     0.93211  0.30286  0.19861
     0.97338  0.22237  0.05547
     0.91819  0.39224  0.05547
     0.98676  0.13797 -0.08527
     0.94725  0.30778 -0.08938
     0.87940  0.46838 -0.08527
     0.97338  0.04983 -0.22370
     0.94725  0.21759 -0.23531
     0.89424  0.38075 -0.23531
     0.81678  0.53182 -0.22370
     0.93211 -0.04220 -0.35971
     0.91819  0.12581 -0.37564
     0.87940  0.28574 -0.38080
     0.81678  0.43792 -0.37564
     0.72929  0.58202 -0.35971
     0.86585 -0.11351 -0.48725
     0.85784  0.04182 -0.51221
     0.82994  0.19069 -0.52425
     0.63377  0.70449 -0.31944
     0.71859  0.66850 -0.19166
     0.78352  0.61807 -0.06389
     0.92681  0.19742  0.31944
     0.97429  0.11845  0.19166
     0.99718  0.03949  0.06389
    -0.00000  0.98008  0.19861
     0.08931  0.99446  0.05547
    -0.08931  0.99446  0.05547
     0.17371  0.98110 -0.08527
    -0.00000  0.99600 -0.08938
    -0.17371  0.98110 -0.08527
     0.25340  0.94114 -0.22370
     0.08578  0.96813 -0.23531
    -0.08578  0.96813 -0.23531
    -0.25340  0.94114 -0.22370
     0.32817  0.87345 -0.35971
     0.16409  0.91212 -0.37564
    -0.00000  0.92466 -0.38080
    -0.16409  0.91212 -0.37564
    -0.32817  0.87345 -0.35971
     0.37552  0.78840 -0.48725
     0.22531  0.82878 -0.51221
     0.07510  0.84825 -0.52425
    -0.47416  0.82045 -0.31944
    -0.41373  0.89000 -0.19166
    -0.34570  0.93617 -0.06389
     0.09864  0.94246  0.31944
     0.18841  0.96321  0.19166
     0.27059  0.96057  0.06389
    -0.93211  0.30286  0.19861
    -0.91819  0.39224  0.05547
    -0.97338  0.22237  0.05547
    -0.87940  0.46838 -0.08527
    -0.94725  0.30778 -0.08938
    -0.98676  0.13797 -0.08527
    -0.81678  0.53182 -0.22370
    -0.89424  0.38075 -0.23531
    -0.94725  0.21759 -0.23531
    -0.97338  0.04983 -0.22370
    -0.72929  0.58202 -0.35971
    -0.81678  0.43792 -0.37564
    -0.87940  0.28573 -0.38080
    -0.91819  0.12581 -0.37564
    -0.93211 -0.04220 -0.35971
    -0.63377  0.60077 -0.48725
    -0.71859  0.47039 -0.51221
    -0.78352  0.33355 -0.52425
    -0.92681 -0.19742 -0.31944
    -0.97429 -0.11845 -0.19166
    -0.99718 -0.03948 -0.06389
    -0.86585  0.38505  0.31944
    -0.85784  0.47684  0.19166
    -0.82994  0.55418  0.06389
    -0.57608 -0.79290  0.19861
    -0.65678 -0.75204  0.05547
    -0.51227 -0.85703  0.05547
    -0.71721 -0.69162 -0.08527
    -0.58543 -0.80578 -0.08938
    -0.43614 -0.89583 -0.08527
    -0.75819 -0.61246 -0.22370
    -0.63845 -0.73281 -0.23531
    -0.49965 -0.83365 -0.23531
    -0.34819 -0.91034 -0.22370
    -0.77890 -0.51374 -0.35971
    -0.66888 -0.64148 -0.37564
    -0.54350 -0.74806 -0.38080
    -0.40338 -0.83437 -0.37564
    -0.24790 -0.89953 -0.35971
    -0.76721 -0.41710 -0.48725
    -0.66943 -0.53806 -0.51221
    -0.55935 -0.64210 -0.52425
    -0.09864 -0.94246 -0.31944
    -0.18841 -0.96321 -0.19166
    -0.27059 -0.96057 -0.06389
    -0.63377 -0.70449  0.31944
    -0.71859 -0.66850  0.19166
    -0.78352 -0.61807  0.06389
     0.68421 -0.38341 -0.62037
     0.57000 -0.50538 -0.64784
     0.57000 -0.35343 -0.74174
     0.44326 -0.61009 -0.65674
     0.44760 -0.47013 -0.76068
     0.44326 -0.31456 -0.83939
     0.30450 -0.69827 -0.64784
     0.30880 -0.57097 -0.76068
     0.30880 -0.42503 -0.85088
     0.30450 -0.26717 -0.91428
     0.15321 -0.76920 -0.62037
     0.16000 -0.65132 -0.74174
     0.16219 -0.51877 -0.83939
     0.16000 -0.37216 -0.91428
     0.15321 -0.21088 -0.96543
     0.00000 -0.80669 -0.59097
     0.00000 -0.70388 -0.71032
     0.00000 -0.58813 -0.80876
     0.15960 -0.05186 -0.98582
     0.30486 -0.09906 -0.94723
     0.43783 -0.14226 -0.88773
     0.76721 -0.41710 -0.48725
     0.66943 -0.53806 -0.51221
     0.55935 -0.64210 -0.52425
     0.57608  0.53224 -0.62037
     0.65678  0.38593 -0.64784
     0.51228  0.43289 -0.74174
     0.71721  0.23304 -0.65674
     0.58543  0.28041 -0.76068
     0.43614  0.32436 -0.83939
     0.75819  0.07382 -0.64784
     0.63845  0.11725 -0.76068
     0.49965  0.16235 -0.85088
     0.34819  0.20704 -0.91428
     0.77890 -0.09198 -0.62037
     0.66888 -0.04910 -0.74174
     0.54350 -0.00605 -0.83939
     0.40338  0.03716 -0.91428
     0.24790  0.08055 -0.96543
     0.76721 -0.24928 -0.59097
     0.66943 -0.21751 -0.71032
     0.55935 -0.18174 -0.80876
     0.09864  0.13577 -0.98582
     0.18842  0.25933 -0.94723
     0.27059  0.37244 -0.88773
     0.63377  0.60077 -0.48725
     0.71859  0.47039 -0.51221
     0.78352  0.33355 -0.52425
    -0.32817  0.71235 -0.62037
    -0.16409  0.74390 -0.64784
    -0.25340  0.62097 -0.74174
    -0.00000  0.75412 -0.65674
    -0.08578  0.64343 -0.76068
    -0.17371  0.51503 -0.83939
     0.16409  0.74390 -0.64784
     0.08578  0.64343 -0.76068
    -0.00000  0.52537 -0.85088
    -0.08931  0.39513 -0.91428
     0.32817  0.71235 -0.62037
     0.25340  0.62097 -0.74174
     0.17371  0.51503 -0.83939
     0.08931  0.39513 -0.91428
    -0.00000  0.26066 -0.96543
     0.47416  0.65263 -0.59097
     0.41373  0.56945 -0.71032
     0.34570  0.47581 -0.80876
    -0.09864  0.13577 -0.98582
    -0.18841  0.25933 -0.94723
    -0.27059  0.37244 -0.88773
    -0.37552  0.78839 -0.48725
    -0.22531  0.82878 -0.51221
    -0.07510  0.84825 -0.52425
    -0.77890 -0.09198 -0.62037
    -0.75819  0.07382 -0.64784
    -0.66888 -0.04910 -0.74174
    -0.71721  0.23303 -0.65674
    -0.63845  0.11725 -0.76068
    -0.54350 -0.00605 -0.83939
    -0.65678  0.38593 -0.64784
    -0.58543  0.28041 -0.76068
    -0.49965  0.16235 -0.85088
    -0.40338  0.03716 -0.91428
    -0.57608  0.53224 -0.62037
    -0.51228  0.43289 -0.74174
    -0.43614  0.32436 -0.83939
    -0.34819  0.20704 -0.91428
    -0.24790  0.08055 -0.96543
    -0.47416  0.65263 -0.59097
    -0.41373  0.56945 -0.71032
    -0.34570  0.47581 -0.80876
    -0.15960 -0.05186 -0.98582
    -0.30486 -0.09906 -0.94723
    -0.43783 -0.14226 -0.88773
    -0.86585 -0.11352 -0.48725
    -0.85784  0.04182 -0.51221
    -0.82994  0.19069 -0.52425
    -0.15321 -0.76920 -0.62037
    -0.30450 -0.69827 -0.64784
    -0.16000 -0.65132 -0.74174
    -0.44326 -0.61009 -0.65674
    -0.30880 -0.57097 -0.76068
    -0.16219 -0.51877 -0.83939
    -0.57000 -0.50538 -0.64784
    -0.44760 -0.47013 -0.76068
    -0.30880 -0.42503 -0.85088
    -0.16000 -0.37216 -0.91428
    -0.68421 -0.38341 -0.62037
    -0.57000 -0.35343 -0.74174
    -0.44326 -0.31457 -0.83939
    -0.30450 -0.26717 -0.91428
    -0.15321 -0.21088 -0.96543
    -0.76721 -0.24928 -0.59097
    -0.66943 -0.21751 -0.71032
    -0.55935 -0.18174 -0.80876
    -0.00000 -0.16782 -0.98582
    -0.00000 -0.32055 -0.94723
    -0.00000 -0.46036 -0.88773
    -0.15960 -0.85855 -0.48725
    -0.30486 -0.80293 -0.51221
    -0.43783 -0.73039 -0.52425
     0.00000  0.00000  1.00000
    -0.00000  0.89443  0.44721
    -0.85065  0.27639  0.44721
    -0.52573 -0.72361  0.44721
     0.52573 -0.72361  0.44721
     0.85065  0.27639  0.44721
    -0.00000 -0.00000 -1.00000
     0.00000 -0.89443 -0.44721
     0.85065 -0.27639 -0.44721
     0.52573  0.72361 -0.44721
    -0.52573  0.72361 -0.44721
    -0.85065 -0.27639 -0.44721
    """
    grid = np.fromstring(griddata, sep=' ').reshape((492, 3))
    return (grid[:, 0], grid[:, 1], grid[:, 2])


def test_points3d():
    t = np.linspace(0, 4 * np.pi, 20)
    cos = np.cos
    sin = np.sin

    #x = sin(2 * t)
    #y = cos(t)
    #z = cos(2 * t)
    #c = 2 + sin(t)
    x, y, z = get_points()
    c = z

    size = 0.2
    sx = size * np.ones(x.shape)
    sy = sx
    sz = sx

    #return points3d(x, y, z, s, colormap="copper", scale_factor=.25)
    #return points3d(x, y, z, s, scale_factor=.25)
    pts = mlab.quiver3d(x, y, z, sx, sy, sz, scalars=c, mode="sphere",
                        scale_factor=0.25)
    pts.glyph.color_mode = "color_by_scalar"
    pts.glyph.glyph_source.glyph_source.center = [0,0,0]


if __name__ == '__main__':
    test_points3d()
    mlab.show()
